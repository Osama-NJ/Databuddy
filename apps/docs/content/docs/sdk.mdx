---
title: SDK Reference
description: Complete reference for the Databuddy SDK - React, Vue, and vanilla JavaScript
---

import { Tab, Tabs } from "@/components/docs";
import { Callout } from "@/components/docs";
import { Card, Cards } from "@/components/docs";
import { Accordion, Accordions } from "@/components/docs";
import { CodeBlock } from "@/components/docs";

The Databuddy SDK provides framework-specific components and a vanilla JavaScript library for tracking analytics events. Choose your preferred integration method.

<Callout type="info">
  **SDK Version**: 2.0.0+ | **API**: basket.databuddy.cc | **CDN**: cdn.databuddy.cc
</Callout>

## Installation

<Tabs items={['React/Next.js', 'Vue', 'Vanilla JS']}>
<Tab value="React/Next.js">

```bash
# Using bun (recommended)
bun add @databuddy/sdk

# Using npm
npm install @databuddy/sdk
```

</Tab>
<Tab value="Vue">

```bash
# Using bun (recommended)
bun add @databuddy/sdk

# Using npm
npm install @databuddy/sdk
```

</Tab>
<Tab value="Vanilla JS">

No installation needed - load directly from CDN:

```html
<script
  src="https://cdn.databuddy.cc/databuddy.js"
  data-client-id="your-client-id"
  async
></script>
```

</Tab>
</Tabs>

## Quick Start

<Tabs items={['React/Next.js', 'Vue', 'Vanilla JS']}>
<Tab value="React/Next.js">

```tsx title="app/layout.tsx"
import { Databuddy } from "@databuddy/sdk/react";

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en">
      <body>
        <Databuddy
          clientId={process.env.NEXT_PUBLIC_DATABUDDY_CLIENT_ID!}
          trackWebVitals={true} // Recommended for performance monitoring
        />
        {children}
      </body>
    </html>
  );
}
```

</Tab>
<Tab value="Vue">

```vue title="App.vue"
<template>
  <div id="app">
    <Databuddy
      :client-id="clientId"
      :track-web-vitals="true"
    />
    <!-- Your app content -->
  </div>
</template>

<script setup>
import { Databuddy } from "@databuddy/sdk/vue";

const clientId = import.meta.env.VITE_DATABUDDY_CLIENT_ID;
</script>
```

</Tab>
<Tab value="Vanilla JS">

```html title="index.html"
<!DOCTYPE html>
<html>
<head>
  <title>My Website</title>
</head>
<body>
  <!-- Your content -->

  <script
    src="https://cdn.databuddy.cc/databuddy.js"
    data-client-id="your-client-id"
    data-track-web-vitals="true"
    async
  ></script>
</body>
</html>
```

</Tab>
</Tabs>

## Configuration Options

### Required Settings

All frameworks require your `clientId` from the Databuddy dashboard:

<Tabs items={['React/Next.js', 'Vue', 'Vanilla JS']}>
<Tab value="React/Next.js">

```tsx
import { Databuddy } from "@databuddy/sdk/react";

<Databuddy clientId="your-client-id" />
```

</Tab>
<Tab value="Vue">

```vue
<template>
  <Databuddy :client-id="clientId" />
</template>

<script setup>
import { Databuddy } from "@databuddy/sdk/vue";
const clientId = "your-client-id";
</script>
```

</Tab>
<Tab value="Vanilla JS">

```html
<script
  src="https://cdn.databuddy.cc/databuddy.js"
  data-client-id="your-client-id"
></script>
```

</Tab>
</Tabs>

### Core Tracking Features

These features are **enabled by default**:

| Feature | Default | Description |
|---------|---------|-------------|
| `trackScreenViews` | `true` | Page views and route changes |
| `trackPerformance` | `true` | Page load times and navigation timing |
| `trackSessions` | `true` | User sessions with 30-minute timeout |

### Optional Features

Enable additional tracking as needed:

| Feature | Default | Description |
|---------|---------|-------------|
| `trackWebVitals` | `false` | Core Web Vitals (LCP, FID, CLS, TTFB) |
| `trackErrors` | `false` | JavaScript errors and unhandled rejections |
| `trackOutgoingLinks` | `false` | Clicks on external links |
| `trackScrollDepth` | `false` | Scroll depth milestones (25%, 50%, 75%, 100%) |
| `trackEngagement` | `false` | Time on page and interaction counts |
| `trackInteractions` | `false` | Button clicks and form submissions |
| `trackAttributes` | `false` | Elements with `data-track` attributes |

### Example Configuration

<Tabs items={['React/Next.js', 'Vue', 'Vanilla JS']}>
<Tab value="React/Next.js">

```tsx
import { Databuddy } from "@databuddy/sdk/react";

<Databuddy
  clientId="your-client-id"
  trackWebVitals={true}
  trackErrors={true}
  trackOutgoingLinks={true}
  disabled={process.env.NODE_ENV === "development"}
/>
```

</Tab>
<Tab value="Vue">

```vue
<template>
  <Databuddy
    :client-id="clientId"
    :track-web-vitals="true"
    :track-errors="true"
    :track-outgoing-links="true"
  />
</template>

<script setup>
import { Databuddy } from "@databuddy/sdk/vue";
const clientId = import.meta.env.VITE_DATABUDDY_CLIENT_ID;
</script>
```

</Tab>
<Tab value="Vanilla JS">

```html
<script
  src="https://cdn.databuddy.cc/databuddy.js"
  data-client-id="your-client-id"
  data-track-web-vitals="true"
  data-track-errors="true"
  data-track-outgoing-links="true"
></script>
```

</Tab>
</Tabs>

### Performance Options

| Option | Default | Description |
|--------|---------|-------------|
| `enableBatching` | `false` | Group events into batches |
| `batchSize` | `10` | Events per batch (1-50) |
| `batchTimeout` | `2000` | Batch timeout in ms (100-30000) |
| `enableRetries` | `true` | Retry failed requests |
| `maxRetries` | `3` | Maximum retry attempts |
| `samplingRate` | `1.0` | Event sampling rate (0.0-1.0) |

### Advanced Options

| Option | Description |
|--------|-------------|
| `apiUrl` | Custom API endpoint (default: `basket.databuddy.cc`) |
| `scriptUrl` | Custom script URL (default: `cdn.databuddy.cc/databuddy.js`) |
| `disabled` | Disable all tracking (useful for development) |
| `waitForProfile` | Wait for user profile before sending events |

## SDK Methods

Access these methods via `window.databuddy` or `window.db` after the SDK loads:

### `track(eventName, properties)`

Track custom events with optional properties:

```javascript
// Track a product view
window.db?.track("product_viewed", {
  product_id: "P12345",
  category: "Electronics",
  price: 299.99,
  currency: "USD"
});

// Track a button click
window.db?.track("button_click", {
  button_text: "Add to Cart",
  button_id: "add-to-cart-btn"
});
```

### `screenView(path, properties)`

Manually track page views (useful for SPAs):

```javascript
window.db?.screenView("/dashboard", {
  section: "analytics"
});
```

### `setGlobalProperties(properties)`

Set properties that attach to all future events:

```javascript
// After user login
window.db?.setGlobalProperties({
  user_id: "user-123",
  plan: "premium"
});
```

### `clear()`

Clear session and global properties (e.g., on logout):

```javascript
window.db?.clear();
```

### `flush()`

Force immediate sending of queued events:

```javascript
window.db?.flush();
```

## Standard Events

The SDK automatically tracks these events when enabled:

| Event | Trigger | Key Properties |
|-------|---------|----------------|
| `screen_view` | `trackScreenViews={true}` | `time_on_page`, `scroll_depth`, `interaction_count` |
| `button_click` | `trackInteractions={true}` | `button_text`, `button_id`, `button_type` |
| `form_submit` | `trackInteractions={true}` | `form_id`, `form_type`, `success` |
| `link_out` | `trackOutgoingLinks={true}` | `href`, `text`, `target_domain` |
| `web_vitals` | `trackWebVitals={true}` | `fcp`, `lcp`, `cls`, `fid`, `ttfb` |
| `error` | `trackErrors={true}` | `message`, `filename`, `stack`, `error_type` |

## Custom Event Tracking

Track business-specific events with rich properties:

```javascript
// E-commerce events
window.db?.track("product_viewed", {
  product_id: "P12345",
  category: "Electronics",
  price: 299.99,
  currency: "USD"
});

window.db?.track("purchase_completed", {
  order_id: "ORD-789",
  revenue: 299.99,
  currency: "USD",
  payment_method: "credit_card"
});

// User engagement
window.db?.track("feature_used", {
  feature: "export_data",
  user_tier: "premium",
  page: window.location.pathname
});

// Content interaction
window.db?.track("video_engagement", {
  video_id: "intro-video",
  action: "completed", // play, pause, complete
  duration: 120,
  timestamp: 45
});
```

### Best Practices

- **Event Names**: Use `snake_case` (e.g., `signup_completed`, `product_viewed`)
- **Properties**: Include rich context but avoid PII (personally identifiable information)
- **Consistency**: Use consistent property names across events for better analysis

```javascript
// ✅ Good
window.db?.track("purchase_completed", {
  product_category: "software",
  payment_method: "credit_card",
  value: 299.99,
  currency: "USD"
});

// ❌ Avoid
window.db?.track("purchase", {
  email: "user@example.com", // PII violation
  productCat: "software",    // Inconsistent naming
  Price: 299.99             // Inconsistent capitalization
});
```

## Environment Setup

<Tabs items={['React/Next.js', 'Vue', 'Vanilla JS']}>
<Tab value="React/Next.js">

```bash title=".env.local"
NEXT_PUBLIC_DATABUDDY_CLIENT_ID=your-client-id-here
```

</Tab>
<Tab value="Vue">

```bash title=".env"
VITE_DATABUDDY_CLIENT_ID=your-client-id-here
```

</Tab>
<Tab value="Vanilla JS">

No environment variables needed - configure directly in the script tag.

</Tab>
</Tabs>

## Debugging & Testing

### Development Mode

Disable tracking during development:

<Tabs items={['React/Next.js', 'Vue', 'Vanilla JS']}>
<Tab value="React/Next.js">

```tsx
<Databuddy
  clientId={process.env.NEXT_PUBLIC_DATABUDDY_CLIENT_ID!}
  disabled={process.env.NODE_ENV === "development"}
/>
```

</Tab>
<Tab value="Vue">

```vue
<template>
  <Databuddy
    :client-id="clientId"
    :disabled="isDevelopment"
  />
</template>

<script setup>
import { Databuddy } from "@databuddy/sdk/vue";
const clientId = import.meta.env.VITE_DATABUDDY_CLIENT_ID;
const isDevelopment = import.meta.env.DEV;
</script>
```

</Tab>
<Tab value="Vanilla JS">

```html
<script
  src="https://cdn.databuddy.cc/databuddy.js"
  data-client-id="your-client-id"
  data-disabled="false"
></script>
```

</Tab>
</Tabs>

### Console Testing

```javascript
// Test if SDK is loaded
console.log(window.databuddy ? "SDK loaded ✅" : "SDK not loaded ❌");

// Send test event
window.db?.track("test_event", { source: "console" });

// Check network requests in DevTools Network tab
// Look for requests to basket.databuddy.cc
```

### Troubleshooting

| Issue | Solution |
|-------|----------|
| Events not appearing | Check client ID, network requests, domain verification |
| TypeScript errors | Ensure `@databuddy/sdk` is installed, TypeScript 4.5+ |
| Script loading issues | Verify CDN URL, check CSP rules, disable ad blockers |

## Related Documentation

<Cards>
  <Card title="Getting Started" href="/docs/getting-started" icon="🚀">
    Quick setup guide and basic configuration
  </Card>
  <Card title="Integration Guides" href="/docs/Integrations" icon="⚙️">
    Custom events, performance monitoring, and advanced features
  </Card>
  <Card title="Dashboard Guide" href="/docs/dashboard" icon="📊">
    Navigate your analytics dashboard and understand metrics
  </Card>
  <Card title="Security & Privacy" href="/docs/security" icon="🔒">
    Privacy settings, GDPR compliance, and data handling
  </Card>
</Cards>
